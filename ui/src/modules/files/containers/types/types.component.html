<sb-layout-dashboard class="types-component">
    <sb-dashboard-head title="Files" [hideBreadcrumbs]="false"></sb-dashboard-head>
    <sb-card background="h-100 type-tabs">
        <div class="card-header" style="display: flex; align-items: center; padding-bottom: 0;">
            <fa-icon class="mr-1" [icon]='["fas", "wrench"]'></fa-icon>
            <div style="padding: 0 0.5rem;">Type Files:</div>

            <ul class="nav-tabs" [(activeId)]="activeTab" ngbNav #nav="ngbNav">
                <li *ngFor="let file of files; let i = index;" [ngbNavItem]="i">
                    <a ngbNavLink>{{ file.file }}</a>
                    <ng-template ngbNavContent>
                        <div style="height: 100%; margin-bottom: 20px;">
                            <ag-grid-angular
                                [frameworkComponents]="frameworkComponents"
                                [columnDefs]="typesColumnDefs"
                                [defaultColDef]="defaultColDef"
                                [rowData]="file.content.types.type"
                                [headerHeight]="150"
                                [floatingFiltersHeight]="50"
                                [groupHeaderHeight]="75"
                                style="width: 100%; height: 100%;"
                                class="ag-theme-alpine"
                            >
                            </ag-grid-angular>

                        </div>
                    </ng-template>
                </li>
            </ul>
        </div>
        <div class="card-body" *ngIf="!loading">
            <ngb-alert  *ngIf="outcomeBadge"
                        [type]="outcomeBadge?.success ? 'success' : 'danger'"
            >
                {{ outcomeBadge.message }}
            </ngb-alert>
            <form (ngSubmit)="onSubmit()" #configForm="ngForm" style="height: 100%">

                <div [ngbNavOutlet]="nav"></div>

                <button type="submit" class="btn btn-success"
                    [disabled]="!configForm.form.valid">Submit</button>
                <button type="button" class="btn btn-default" (click)="reset()">Reset</button>
            </form>
        </div>
        <div class="card-body" *ngIf="loading">
            <fa-icon [icon]='["fas", "spinner"]' [classes]="['fa-spin']"></fa-icon>
        </div>
    </sb-card>
</sb-layout-dashboard>
